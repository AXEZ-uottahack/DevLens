{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///home/phamhoaixuan/DevLens/index_files/src/app/components/DiagramBox.tsx"],"sourcesContent":["import React, { useEffect, useRef } from \"react\";\nimport { Cell, Graph, InternalEvent } from '@maxgraph/core';\nimport { useMediaQuery } from 'react-responsive'\n\ntype DiagramBoxProps = {\n  classes: any[], \n  associations: any[]\n}\n\nconst DiagramBox: React.FC<DiagramBoxProps> = ({classes, associations}: DiagramBoxProps) => {\n  const divGraph = useRef(null);\n\n  const systemPrefersDark = useMediaQuery(\n    {\n      query: \"(prefers-color-scheme: dark)\",\n    },\n    undefined\n  );\n\n  const class_style = {\n    baseStyleNames: ['rounded'],\n    fillColor: systemPrefersDark ? '#0a0a0a': '#ffffff',\n    strokeColor: systemPrefersDark ? '#ededed': '#171717'\n  }\n\n  const assoc_style = {\n    edgeStyle: 'orthogonalEdgeStyle',\n    rounded: true,\n    strokeColor: systemPrefersDark ? '#ededed': '#171717'\n  }\n\n  useEffect(() => {\n    if (divGraph.current != null) {\n      InternalEvent.disableContextMenu(divGraph.current);\n      const graph = new Graph(divGraph.current);\n      graph.setPanning(true);\n      const parent = graph.getDefaultParent();\n\n      const class_map: Map<string, Cell> = new Map();\n\n      graph.batchUpdate(() => {\n        for (let i = 0; i < classes.length; i++) {\n          const vertex = graph.insertVertex({\n            parent,\n            position: [10, 10],\n            size: [100, 100],\n            value: classes[i].name,\n            style: class_style\n          });\n          class_map.set(classes[i].name, vertex);\n        }\n\n        for (let i = 0; i < associations.length; i++) {\n          // not handling the bidir bool right now\n          graph.insertEdge({\n            parent,\n            source: class_map.get(associations[i].start),\n            target: class_map.get(associations[i].end),\n            value: `${associations[i].start_m}--${associations[i].end_m}`,\n            style: {\n              ...assoc_style,\n              endArrow: associations[i].bidir ? 'none' : 'open'\n            }\n          });\n        }\n      });\n\n      return () => { \n        // graph.removeCells(cells);\n        divGraph.current = null;\n      }\n    }\n  });\n\n  return <div className=\"graph-container\" ref={divGraph} id=\"divGraph\" />;\n};\n\nexport default DiagramBox;\n"],"names":[],"mappings":";;;;AAAA;AAEA;AADA;AAAA;;;;;AAQA,MAAM,aAAwC,CAAC,EAAC,OAAO,EAAE,YAAY,EAAkB;IACrF,MAAM,WAAW,CAAA,GAAA,qMAAA,CAAA,SAAM,AAAD,EAAE;IAExB,MAAM,oBAAoB,CAAA,GAAA,2JAAA,CAAA,gBAAa,AAAD,EACpC;QACE,OAAO;IACT,GACA;IAGF,MAAM,cAAc;QAClB,gBAAgB;YAAC;SAAU;QAC3B,WAAW,oBAAoB,YAAW;QAC1C,aAAa,oBAAoB,YAAW;IAC9C;IAEA,MAAM,cAAc;QAClB,WAAW;QACX,SAAS;QACT,aAAa,oBAAoB,YAAW;IAC9C;IAEA,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,IAAI,SAAS,OAAO,IAAI,MAAM;YAC5B,uNAAA,CAAA,gBAAa,CAAC,kBAAkB,CAAC,SAAS,OAAO;YACjD,MAAM,QAAQ,IAAI,0JAAA,CAAA,QAAK,CAAC,SAAS,OAAO;YACxC,MAAM,UAAU,CAAC;YACjB,MAAM,SAAS,MAAM,gBAAgB;YAErC,MAAM,YAA+B,IAAI;YAEzC,MAAM,WAAW,CAAC;gBAChB,IAAK,IAAI,IAAI,GAAG,IAAI,QAAQ,MAAM,EAAE,IAAK;oBACvC,MAAM,SAAS,MAAM,YAAY,CAAC;wBAChC;wBACA,UAAU;4BAAC;4BAAI;yBAAG;wBAClB,MAAM;4BAAC;4BAAK;yBAAI;wBAChB,OAAO,OAAO,CAAC,EAAE,CAAC,IAAI;wBACtB,OAAO;oBACT;oBACA,UAAU,GAAG,CAAC,OAAO,CAAC,EAAE,CAAC,IAAI,EAAE;gBACjC;gBAEA,IAAK,IAAI,IAAI,GAAG,IAAI,aAAa,MAAM,EAAE,IAAK;oBAC5C,wCAAwC;oBACxC,MAAM,UAAU,CAAC;wBACf;wBACA,QAAQ,UAAU,GAAG,CAAC,YAAY,CAAC,EAAE,CAAC,KAAK;wBAC3C,QAAQ,UAAU,GAAG,CAAC,YAAY,CAAC,EAAE,CAAC,GAAG;wBACzC,OAAO,GAAG,YAAY,CAAC,EAAE,CAAC,OAAO,CAAC,EAAE,EAAE,YAAY,CAAC,EAAE,CAAC,KAAK,EAAE;wBAC7D,OAAO;4BACL,GAAG,WAAW;4BACd,UAAU,YAAY,CAAC,EAAE,CAAC,KAAK,GAAG,SAAS;wBAC7C;oBACF;gBACF;YACF;YAEA,OAAO;gBACL,4BAA4B;gBAC5B,SAAS,OAAO,GAAG;YACrB;QACF;IACF;IAEA,qBAAO,8OAAC;QAAI,WAAU;QAAkB,KAAK;QAAU,IAAG;;;;;;AAC5D;uCAEe"}},
    {"offset": {"line": 91, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 97, "column": 0}, "map": {"version":3,"sources":["file:///home/phamhoaixuan/DevLens/index_files/src/app/page.tsx"],"sourcesContent":["\"use client\"\n\nimport dynamic from 'next/dynamic';\n\nimport Editor from './components/Editor'\nimport DiagramBox from './components/DiagramBox';\n\nconst TEST_DATA = {\n  classes: [\n    {\n      name: \"A\",\n      attributes: [\n        {type: \"int\", modifier: \"-\"},\n        {type: \"int\", modifier: \"-\"},\n        {type: \"B[]\", modifier: \"-\"} \n      ]\n    },\n    {\n      name: \"B\",\n      attributes: [\n        {type: \"A\", modifier: \"-\"}\n      ]\n    }\n  ],\n  associations: [\n    {\n      start: \"A\",\n      end: \"B\",\n      start_m: \"1\", \n      end_m: \"0..*\", \n      bidir: true \n    }\n  ]\n}\n\nexport default function Home() {\n  return (\n    \n    <div>\n      <h1>Browser Code Editor</h1>\n      {/* <Editor /> */}\n      <DiagramBox classes={TEST_DATA.classes} associations={TEST_DATA.associations}/>\n    </div>\n  );\n}"],"names":[],"mappings":";;;;AAKA;AALA;;;AAOA,MAAM,YAAY;IAChB,SAAS;QACP;YACE,MAAM;YACN,YAAY;gBACV;oBAAC,MAAM;oBAAO,UAAU;gBAAG;gBAC3B;oBAAC,MAAM;oBAAO,UAAU;gBAAG;gBAC3B;oBAAC,MAAM;oBAAO,UAAU;gBAAG;aAC5B;QACH;QACA;YACE,MAAM;YACN,YAAY;gBACV;oBAAC,MAAM;oBAAK,UAAU;gBAAG;aAC1B;QACH;KACD;IACD,cAAc;QACZ;YACE,OAAO;YACP,KAAK;YACL,SAAS;YACT,OAAO;YACP,OAAO;QACT;KACD;AACH;AAEe,SAAS;IACtB,qBAEE,8OAAC;;0BACC,8OAAC;0BAAG;;;;;;0BAEJ,8OAAC,uIAAA,CAAA,UAAU;gBAAC,SAAS,UAAU,OAAO;gBAAE,cAAc,UAAU,YAAY;;;;;;;;;;;;AAGlF"}},
    {"offset": {"line": 169, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}