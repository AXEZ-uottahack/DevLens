{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///home/phamhoaixuan/DevLens/index_files/src/app/components/DiagramBox.tsx"],"sourcesContent":["import React, { useEffect, useRef } from \"react\";\nimport { Cell, Graph, InternalEvent } from '@maxgraph/core';\nimport { useMediaQuery } from 'react-responsive'\n\ntype DiagramBoxProps = {\n  classes: any[], \n  associations: any[]\n}\n\nconst DiagramBox: React.FC<DiagramBoxProps> = ({classes, associations}: DiagramBoxProps) => {\n  const divGraph = useRef(null);\n\n  const systemPrefersDark = useMediaQuery(\n    {\n      query: \"(prefers-color-scheme: dark)\",\n    },\n    undefined\n  );\n\n  const class_style = {\n    baseStyleNames: ['rounded'],\n    fillColor: systemPrefersDark ? '#0a0a0a': '#ffffff',\n    strokeColor: systemPrefersDark ? '#ededed': '#171717'\n  }\n\n  const assoc_style = {\n    edgeStyle: 'orthogonalEdgeStyle',\n    rounded: true,\n    strokeColor: systemPrefersDark ? '#ededed': '#171717'\n  }\n\n  useEffect(() => {\n    if (divGraph.current != null) {\n      InternalEvent.disableContextMenu(divGraph.current);\n      const graph = new Graph(divGraph.current);\n      graph.setPanning(true);\n      const parent = graph.getDefaultParent();\n\n      const class_map: Map<string, Cell> = new Map();\n\n      graph.batchUpdate(() => {\n        for (let i = 0; i < classes.length; i++) {\n          const vertex = graph.insertVertex({\n            parent,\n            position: [10, 10],\n            size: [100, 100],\n            value: classes[i].name,\n            style: class_style\n          });\n          class_map.set(classes[i].name, vertex);\n        }\n\n        for (let i = 0; i < associations.length; i++) {\n          // not handling the bidir bool right now\n          graph.insertEdge({\n            parent,\n            source: class_map.get(associations[i].start),\n            target: class_map.get(associations[i].end),\n            value: `${associations[i].start_m}--${associations[i].end_m}`,\n            style: {\n              ...assoc_style,\n              endArrow: associations[i].bidir ? 'none' : 'open'\n            }\n          });\n        }\n      });\n\n      return () => { \n        // graph.removeCells(cells);\n        divGraph.current = null;\n      }\n    }\n  });\n\n  return <div className=\"graph-container\" ref={divGraph} id=\"divGraph\" />;\n};\n\nexport default DiagramBox;\n"],"names":[],"mappings":";;;;AAAA;AAEA;AADA;AAAA;;;;;;AAQA,MAAM,aAAwC,CAAC,EAAC,OAAO,EAAE,YAAY,EAAkB;;IACrF,MAAM,WAAW,CAAA,GAAA,6JAAA,CAAA,SAAM,AAAD,EAAE;IAExB,MAAM,oBAAoB,CAAA,GAAA,8JAAA,CAAA,gBAAa,AAAD,EACpC;QACE,OAAO;IACT,GACA;IAGF,MAAM,cAAc;QAClB,gBAAgB;YAAC;SAAU;QAC3B,WAAW,oBAAoB,YAAW;QAC1C,aAAa,oBAAoB,YAAW;IAC9C;IAEA,MAAM,cAAc;QAClB,WAAW;QACX,SAAS;QACT,aAAa,oBAAoB,YAAW;IAC9C;IAEA,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;gCAAE;YACR,IAAI,SAAS,OAAO,IAAI,MAAM;gBAC5B,0NAAA,CAAA,gBAAa,CAAC,kBAAkB,CAAC,SAAS,OAAO;gBACjD,MAAM,QAAQ,IAAI,6JAAA,CAAA,QAAK,CAAC,SAAS,OAAO;gBACxC,MAAM,UAAU,CAAC;gBACjB,MAAM,SAAS,MAAM,gBAAgB;gBAErC,MAAM,YAA+B,IAAI;gBAEzC,MAAM,WAAW;4CAAC;wBAChB,IAAK,IAAI,IAAI,GAAG,IAAI,QAAQ,MAAM,EAAE,IAAK;4BACvC,MAAM,SAAS,MAAM,YAAY,CAAC;gCAChC;gCACA,UAAU;oCAAC;oCAAI;iCAAG;gCAClB,MAAM;oCAAC;oCAAK;iCAAI;gCAChB,OAAO,OAAO,CAAC,EAAE,CAAC,IAAI;gCACtB,OAAO;4BACT;4BACA,UAAU,GAAG,CAAC,OAAO,CAAC,EAAE,CAAC,IAAI,EAAE;wBACjC;wBAEA,IAAK,IAAI,IAAI,GAAG,IAAI,aAAa,MAAM,EAAE,IAAK;4BAC5C,wCAAwC;4BACxC,MAAM,UAAU,CAAC;gCACf;gCACA,QAAQ,UAAU,GAAG,CAAC,YAAY,CAAC,EAAE,CAAC,KAAK;gCAC3C,QAAQ,UAAU,GAAG,CAAC,YAAY,CAAC,EAAE,CAAC,GAAG;gCACzC,OAAO,GAAG,YAAY,CAAC,EAAE,CAAC,OAAO,CAAC,EAAE,EAAE,YAAY,CAAC,EAAE,CAAC,KAAK,EAAE;gCAC7D,OAAO;oCACL,GAAG,WAAW;oCACd,UAAU,YAAY,CAAC,EAAE,CAAC,KAAK,GAAG,SAAS;gCAC7C;4BACF;wBACF;oBACF;;gBAEA;4CAAO;wBACL,4BAA4B;wBAC5B,SAAS,OAAO,GAAG;oBACrB;;YACF;QACF;;IAEA,qBAAO,6LAAC;QAAI,WAAU;QAAkB,KAAK;QAAU,IAAG;;;;;;AAC5D;GAlEM;;QAGsB,8JAAA,CAAA,gBAAa;;;KAHnC;uCAoES"}},
    {"offset": {"line": 110, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 116, "column": 0}, "map": {"version":3,"sources":["file:///home/phamhoaixuan/DevLens/index_files/src/app/page.tsx"],"sourcesContent":["\"use client\"\n\nimport dynamic from 'next/dynamic';\n\nimport Editor from './components/Editor'\nimport DiagramBox from './components/DiagramBox';\n\nconst TEST_DATA = {\n  classes: [\n    {\n      name: \"A\",\n      attributes: [\n        {type: \"int\", modifier: \"-\"},\n        {type: \"int\", modifier: \"-\"},\n        {type: \"B[]\", modifier: \"-\"} \n      ]\n    },\n    {\n      name: \"B\",\n      attributes: [\n        {type: \"A\", modifier: \"-\"}\n      ]\n    }\n  ],\n  associations: [\n    {\n      start: \"A\",\n      end: \"B\",\n      start_m: \"1\", \n      end_m: \"0..*\", \n      bidir: true \n    }\n  ]\n}\n\nexport default function Home() {\n  return (\n    \n    <div>\n      <h1>Browser Code Editor</h1>\n      {/* <Editor /> */}\n      <DiagramBox classes={TEST_DATA.classes} associations={TEST_DATA.associations}/>\n    </div>\n  );\n}"],"names":[],"mappings":";;;;AAKA;AALA;;;AAOA,MAAM,YAAY;IAChB,SAAS;QACP;YACE,MAAM;YACN,YAAY;gBACV;oBAAC,MAAM;oBAAO,UAAU;gBAAG;gBAC3B;oBAAC,MAAM;oBAAO,UAAU;gBAAG;gBAC3B;oBAAC,MAAM;oBAAO,UAAU;gBAAG;aAC5B;QACH;QACA;YACE,MAAM;YACN,YAAY;gBACV;oBAAC,MAAM;oBAAK,UAAU;gBAAG;aAC1B;QACH;KACD;IACD,cAAc;QACZ;YACE,OAAO;YACP,KAAK;YACL,SAAS;YACT,OAAO;YACP,OAAO;QACT;KACD;AACH;AAEe,SAAS;IACtB,qBAEE,6LAAC;;0BACC,6LAAC;0BAAG;;;;;;0BAEJ,6LAAC,0IAAA,CAAA,UAAU;gBAAC,SAAS,UAAU,OAAO;gBAAE,cAAc,UAAU,YAAY;;;;;;;;;;;;AAGlF;KATwB"}},
    {"offset": {"line": 194, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}